{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elayne\\\\hotelIfba-front\\\\src\\\\pages\\\\reservas\\\\editReserva.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { getAllServico } from \"../../services/api/servicos\";\nimport { getByIdQuarto } from \"../../services/api/quartos\";\nimport { addReserva, getById } from \"../../services/api/reservas\";\nimport { getByIdServico } from \"../../services/api/servicos\";\nimport { ReservaFieldsValidation } from \"./reservaFieldsValidation.js\";\nimport swal from 'sweetalert';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200\n  }\n}));\nexport default function ControlledOpenSelect() {\n  _s();\n\n  const classes = useStyles();\n  const [servicoDescricao, setServico] = React.useState('');\n  const [servicoId, setServicoId] = useState('');\n  const [reserva, setReserva] = useState('');\n  const [reservaId, setReservaId] = useState('');\n  const [data_entrada, setData_entrada] = useState('');\n  const [data_saida, setData_saida] = useState('');\n  const [quantidade_pessoas, setQuantidade_pessoas] = useState('');\n  const [cliente, setClienteId] = useState('');\n  const [quartoNumber, setNumeroQuarto] = React.useState('');\n  const [quartoId, setQuarto] = React.useState('');\n  const [cartao, setCartao] = useState('');\n  const id = localStorage.getItem('id');\n\n  function validationField(data_entrada, data_saida, quantidade_pessoas, cliente, servico, quarto) {\n    cliente = id;\n    var error = ReservaFieldsValidation(data_entrada, data_saida, quantidade_pessoas, cliente, servico, quarto);\n\n    if (error) {\n      swal(`${error}`);\n      return true;\n    }\n  }\n\n  function cleanField() {\n    setNumeroQuarto(\"\");\n    setServico(\"\");\n    setData_entrada(\"\");\n    setData_saida(\"\");\n    setQuantidade_pessoas(\"\");\n    setNumeroQuarto(\"\");\n    setCartao(\"\");\n    setClienteId(\"\");\n  }\n\n  async function handleSave() {\n    // if (!validationField(data_entrada, data_saida, quantidade_pessoas, cliente, servicoId, quartoId)) {\n    let reserva = {\n      data_entrada,\n      data_saida,\n      quantidade_pessoas: parseInt(quantidade_pessoas),\n      cliente,\n      servico: parseInt(servicoId),\n      quarto: quartoId,\n      cartao\n    };\n    console.log(reserva); //     async function getResponse() {\n    //         const data = await addReserva(reserva);\n    //         if (data != null) {\n    //             swal(\"Reserva cadastrada!\", \"\", \"success\");\n    //         }\n    //         else\n    //             swal(\"Houve um erro\", \"Verifique as informações e tente novamente\", \"error\");\n    //     }\n    //     getResponse();\n    //     cleanField()\n    // }\n  }\n\n  async function getDescricaoServico(id) {\n    async function getServico() {\n      try {\n        const data = await getByIdServico(id);\n        setServico(data.data.tipo);\n        setServicoId(data.data.id);\n      } catch (error) {}\n    }\n\n    getServico();\n  }\n\n  ;\n\n  async function getNumeroQuarto(id) {\n    async function getQuartos() {\n      try {\n        const data = await getByIdQuarto(id);\n        setNumeroQuarto(data.data.numero);\n        setQuarto(data.data.id);\n      } catch (error) {}\n    }\n\n    getQuartos();\n  }\n\n  ;\n\n  const handleSearchReserva = () => {\n    async function getReserva() {\n      try {\n        const data = await getById(reservaId);\n        setReserva(data.data);\n        getNumeroQuarto(reserva.quarto);\n        getDescricaoServico(reserva.servico);\n        setQuantidade_pessoas(reserva.quantidade_pessoas);\n        setCartao(reserva.cartao);\n        setData_entrada(reserva.data_entrada);\n        setData_saida(reserva.data_saida);\n        setClienteId(id);\n      } catch (error) {}\n    }\n\n    getReserva();\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fixed: true,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Atualizar Reserva\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"date\",\n          label: \"N\\xFAmero da reserva *\",\n          type: \"int\",\n          defaultValue: \"13\",\n          className: classes.textField,\n          value: reservaId,\n          onChange: e => setReservaId(e.target.value),\n          InputLabelProps: {\n            shrink: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => handleSearchReserva(),\n          children: \"Procurar Reserva\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"date\",\n          label: \"Quantidade de Pessoas *\",\n          type: \"int\",\n          style: {\n            margin: 8\n          },\n          defaultValue: quantidade_pessoas,\n          className: classes.textField,\n          value: reserva.quantidade_pessoas,\n          InputLabelProps: {\n            shrink: true\n          } //onChange={handleChangeQuarto}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"margin-none\",\n          className: classes.textField,\n          defaultValue: reserva.cartao,\n          label: \"N\\xFAmero do cart\\xE3o *\",\n          value: reserva.cartao,\n          onChange: e => setCartao(e.target.value),\n          InputLabelProps: {\n            shrink: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"date\",\n          type: \"int\",\n          label: \"N\\xFAmero do quarto*\",\n          defaultValue: \"0\",\n          className: classes.textField,\n          value: quartoNumber,\n          InputLabelProps: {\n            shrink: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"texto\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"date\",\n            type: \"int\",\n            defaultValue: \"0\",\n            label: \"Servi\\xE7o*\",\n            className: classes.textField,\n            value: servicoDescricao,\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"date\",\n          type: \"datetime-local\",\n          className: classes.textField //value={data_entrada}\n          ,\n          label: \"Data Entrada*\",\n          onChange: e => setData_entrada(e.target.value),\n          InputLabelProps: {\n            shrink: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"date\",\n          type: \"datetime-local\",\n          className: classes.textField //value={reserva.data_saida}\n          ,\n          label: \"Data Sa\\xEDda*\",\n          onChange: e => setData_saida(e.target.value),\n          InputLabelProps: {\n            shrink: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texto\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => handleSave(),\n          children: \"Alterar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ControlledOpenSelect, \"8gzp9jEPnTrrvT5m/D+1kUuq5nM=\", false, function () {\n  return [useStyles];\n});\n\n_c = ControlledOpenSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"ControlledOpenSelect\");","map":{"version":3,"sources":["C:/Users/elayne/hotelIfba-front/src/pages/reservas/editReserva.js"],"names":["React","useEffect","useState","makeStyles","TextField","Button","getAllServico","getByIdQuarto","addReserva","getById","getByIdServico","ReservaFieldsValidation","swal","CssBaseline","Container","useStyles","theme","textField","marginLeft","spacing","marginRight","width","ControlledOpenSelect","classes","servicoDescricao","setServico","servicoId","setServicoId","reserva","setReserva","reservaId","setReservaId","data_entrada","setData_entrada","data_saida","setData_saida","quantidade_pessoas","setQuantidade_pessoas","cliente","setClienteId","quartoNumber","setNumeroQuarto","quartoId","setQuarto","cartao","setCartao","id","localStorage","getItem","validationField","servico","quarto","error","cleanField","handleSave","parseInt","console","log","getDescricaoServico","getServico","data","tipo","getNumeroQuarto","getQuartos","numero","handleSearchReserva","getReserva","e","target","value","shrink","margin"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { getAllServico } from \"../../services/api/servicos\";\r\nimport { getByIdQuarto } from \"../../services/api/quartos\";\r\nimport { addReserva, getById } from \"../../services/api/reservas\";\r\nimport { getByIdServico } from \"../../services/api/servicos\";\r\nimport { ReservaFieldsValidation } from \"./reservaFieldsValidation.js\";\r\nimport swal from 'sweetalert';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n    },\r\n}));\r\n\r\nexport default function ControlledOpenSelect() {\r\n    const classes = useStyles();\r\n    const [servicoDescricao, setServico] = React.useState('');\r\n    const [servicoId, setServicoId] = useState('');\r\n    const [reserva, setReserva] = useState('');\r\n    const [reservaId, setReservaId] = useState('');\r\n    const [data_entrada, setData_entrada] = useState('');\r\n    const [data_saida, setData_saida] = useState('');\r\n    const [quantidade_pessoas, setQuantidade_pessoas] = useState('');\r\n    const [cliente, setClienteId] = useState('');\r\n    const [quartoNumber, setNumeroQuarto] = React.useState('');\r\n    const [quartoId, setQuarto] = React.useState('');\r\n    const [cartao, setCartao] = useState('');\r\n    const id = localStorage.getItem('id');\r\n\r\n    function validationField(data_entrada, data_saida, quantidade_pessoas, cliente, servico, quarto) {\r\n        cliente = id\r\n        var error = ReservaFieldsValidation(data_entrada, data_saida, quantidade_pessoas, cliente, servico, quarto);\r\n\r\n        if (error) {\r\n            swal(`${error}`);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    function cleanField() {\r\n        setNumeroQuarto(\"\");\r\n        setServico(\"\");\r\n        setData_entrada(\"\");\r\n        setData_saida(\"\");\r\n        setQuantidade_pessoas(\"\");\r\n        setNumeroQuarto(\"\");\r\n        setCartao(\"\")\r\n        setClienteId(\"\")\r\n    }\r\n\r\n    async function handleSave() {\r\n\r\n\r\n\r\n        // if (!validationField(data_entrada, data_saida, quantidade_pessoas, cliente, servicoId, quartoId)) {\r\n            let reserva = { data_entrada, data_saida, quantidade_pessoas: parseInt(quantidade_pessoas), cliente, servico: parseInt(servicoId), quarto: quartoId, cartao }\r\nconsole.log(reserva)\r\n        //     async function getResponse() {\r\n\r\n        //         const data = await addReserva(reserva);\r\n\r\n        //         if (data != null) {\r\n        //             swal(\"Reserva cadastrada!\", \"\", \"success\");\r\n        //         }\r\n        //         else\r\n        //             swal(\"Houve um erro\", \"Verifique as informações e tente novamente\", \"error\");\r\n        //     }\r\n        //     getResponse();\r\n        //     cleanField()\r\n        // }\r\n    }\r\n\r\n    async function getDescricaoServico(id)  {\r\n\r\n        async function getServico() {\r\n            try {\r\n                const data = await getByIdServico(id);\r\n                setServico(data.data.tipo);\r\n                setServicoId(data.data.id)\r\n            } catch (error) {\r\n            }\r\n        }\r\n        getServico();\r\n    };\r\n\r\n    async function getNumeroQuarto(id)  {\r\n\r\n        async function getQuartos() {\r\n            try {\r\n                const data = await getByIdQuarto(id);\r\n                setNumeroQuarto(data.data.numero);\r\n                setQuarto(data.data.id)\r\n            } catch (error) {\r\n            }\r\n        }\r\n        getQuartos();\r\n    };\r\n\r\n    const handleSearchReserva = () => {\r\n\r\n        async function getReserva() {\r\n            try {\r\n                const data = await getById(reservaId);\r\n                setReserva(data.data);\r\n                getNumeroQuarto(reserva.quarto)\r\n                getDescricaoServico(reserva.servico) \r\n                setQuantidade_pessoas(reserva.quantidade_pessoas)\r\n                setCartao(reserva.cartao)\r\n                setData_entrada(reserva.data_entrada)\r\n                setData_saida(reserva.data_saida)\r\n                setClienteId(id)\r\n            } catch (error) {\r\n            }\r\n        }\r\n        getReserva();\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <Container fixed>\r\n\r\n                <div className=\"texto\">\r\n                    <h1>Atualizar Reserva</h1>\r\n                </div>\r\n\r\n                <div className=\"texto\">\r\n                    <TextField\r\n                        id=\"date\"\r\n                        label=\"Número da reserva *\"\r\n                        type=\"int\"\r\n                        defaultValue=\"13\"\r\n                        className={classes.textField}\r\n                        value={reservaId}\r\n                        onChange={(e) => setReservaId(e.target.value)}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n\r\n                </div>\r\n                <div className=\"texto\">\r\n                    <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => handleSearchReserva()}>Procurar Reserva</Button>\r\n                </div>\r\n\r\n                <div className=\"texto\">\r\n                    <TextField\r\n                        id=\"date\"\r\n                        label=\"Quantidade de Pessoas *\"\r\n                        type=\"int\"\r\n                        style={{ margin: 8 }}\r\n                        defaultValue={quantidade_pessoas}\r\n                        className={classes.textField}\r\n                        value={reserva.quantidade_pessoas}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        //onChange={handleChangeQuarto}\r\n  \r\n                    />\r\n                </div>\r\n                <div className=\"texto\">\r\n                    <TextField\r\n                        id=\"margin-none\"\r\n                        className={classes.textField}\r\n                        defaultValue={reserva.cartao}\r\n                        label=\"Número do cartão *\"\r\n                        value={reserva.cartao}\r\n                        onChange={(e) => setCartao(e.target.value)}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className=\"texto\">\r\n                    <TextField \r\n                        id=\"date\"\r\n                        type=\"int\"\r\n                        label=\"Número do quarto*\"\r\n                        defaultValue=\"0\"\r\n                        className={classes.textField}\r\n                        value={quartoNumber}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className=\"texto\">\r\n                    <div className=\"texto\">\r\n                        <TextField \r\n                            id=\"date\"\r\n                            type=\"int\"\r\n                            defaultValue=\"0\"\r\n                            label=\"Serviço*\"\r\n                            className={classes.textField}\r\n                            value={servicoDescricao}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"texto\">\r\n                    <TextField\r\n                        id=\"date\"\r\n                        type=\"datetime-local\"\r\n                        className={classes.textField}\r\n                        //value={data_entrada}\r\n                        label=\"Data Entrada*\"\r\n                        onChange={(e) => setData_entrada(e.target.value)}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"texto\">\r\n                    <TextField\r\n                        id=\"date\"\r\n                        type=\"datetime-local\"\r\n                        className={classes.textField}\r\n                        //value={reserva.data_saida}\r\n                        label=\"Data Saída*\"\r\n                        onChange={(e) => setData_saida(e.target.value)}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className=\"texto\">\r\n                    <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => handleSave()}>Alterar</Button>\r\n                </div>\r\n            </Container>\r\n        </React.Fragment>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}